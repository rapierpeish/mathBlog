---
title: 2.正则曲面
categories: 微分几何
tags:
  - 微分几何
order: 2
---


# 正则曲面
## 曲面的局部描述

设 $S \subset \mathbb{R}^3$。我们称 $S$ 是一个**正则曲面（regular surface）**，如果对于每一点 $p \in S$，存在：
- 一个开邻域 $V_p \subset \mathbb{R}^3$，使得 $p \in V_p$；
- 一个开集 $U \subset \mathbb{R}^2$；
- 一个光滑映射（$C^\infty$）$\mathbf{X}: U \to \mathbb{R}^3$；
满足以下三个条件：
- $\mathbf{x}$ 是一个从 $U$ 到 $S \cap V_p$ 的**[[同胚]]映射**（即连续、一一对应，且其逆也连续）：
	$$
		\mathbf{X}:U \rightarrow S \cap V_{p}为同胚映射
	$$
- $\mathbf{x}$ 是光滑函数（即 $C^\infty$）；
- $\mathbf{x}$是满秩的
![](/docs/public/Pasted image 20250726151330.png)

如果$S$是正则曲面，对任意$p \in S$ ，在p的微小领域存在2维参数坐标系uv，使得：
$$
\mathbf{X}(u,v) = (x(u,v),y(u,v),z(u,v)),(u,v) \in U 
$$

### 对开领域$V_p$的解释：
开领域使用开球来定义，开球定义如下：
$$
Bε​(p):=\{q∈R^3∣∥q−p∥<ε\}
$$
### 对同胚的解释：
![](/docs/public/同胚)

### 对映射满秩的解释：
设 $\mathbf{x}: U \subset \mathbb{R}^2 \to \mathbb{R}^3$ 是一个 $C^\infty$ 映射，它在每个点 $(u,v)$ 处的微分（雅可比矩阵）是：
$$
Dx(u,v) = \begin{bmatrix} \frac{\partial x}{\partial u}  \frac{\partial x}{\partial v} \\  \frac{\partial y}{\partial u}  \frac{\partial y}{\partial v}  \\ \frac{\partial z}{\partial u}  \frac{\partial z}{\partial v}  \end{bmatrix} \in \mathbb{R^{3 \times 2}}
$$
如果矩阵$Dx(u,v)$的秩为2，就称$\mathbf{x}$ **满秩**。满秩的条件保证$Dx$的两个列向量时线性无关的，能够张成一个平面。

举例说明：
✅满秩例子（抛物面）：
$$
\mathbf{x}(u,v)=(u,v,u^2+v^2)
$$
计算偏导：
$$
x_u​=(1,0,2u),x_v​=(0,1,2v)
$$
这两个向量永远线性无关 ⇒ 满秩

❌不满秩例子（锥面顶点）：
$$
x(u,v)=(u  \cos  v,u sin  v,u)
$$
在 $u = 0$ 处有：
$$
x_u​=(cosv,sinv,1),x_v​=(0,0,0)
$$
因此叉积为 0 ⇒ 不满秩 ⇒ 顶点不是正则点。


> - 该定义的核心思想是：曲面 $S$ 局部地可以看成是从二维平面的一部分（$U \subset \mathbb{R}^2$）“光滑地贴”到三维空间中；
- “$\mathbf{x}$ 是从 $U$ 到 $S \cap V_p$ 的同胚”确保了没有自交、没有折叠；
- “满秩”确保了 $\mathbf{x}(U)$ 在局部看起来像一个平面（而不是线或点）；
- 正则曲面本质上就是一个二维**可微流形**，嵌入在 $\mathbb{R}^3$ 中。

## 曲面整体的描述

### 参数变换
$S$上的点$P$存在两个局部坐标$(u^1,u^2)$和$(v^1,v^2)$，必须借助可微变换将其中一对坐标变换到另一对坐标，如果不存在这种变换，那么建立局部坐标系描述曲面是毫无意义的。

给定正则曲面$S \in \mathbb{IR^3}$上任意一点$p$，在p点周围存在两个2维局部坐标$(u^1,u^2)$和$(v^1,v^2)$，局部坐标系的定义域分别为$U \in \mathbb{IR^2}$和$V\in \mathbb{IR^2}$，再给定两个局部坐标同胚映射：
$$
X: U \rightarrow S
$$
$$
Y: V \rightarrow S
$$
这两个参数映射满足：
$$
 p \in X(U) \cap Y(V)
$$
![](/docs/public/无标题 2.png)
可以给出一个同胚映射$h = X^{-1} Y$将$(v^1,v^2)$映射到$(u^1,u^2)$。
使用链式法则推导 $Dh$，$h = X^{-1} \circ Y$，可以对 $h$ 在某点 $q \in V$（即 $Y(q) = p \in S$）处求导：
$$
Dh(q)=D(X^{−1})(Y(q))⋅DY(q)
$$
而由于 $X$ 是局部同胚，其导数 $DX$ 是满秩（秩为 2），所以 $DX$ 在 $X^{-1}(Y(q))$ 处可逆。利用反函数定理：
![](/docs/public/反函数定理#反函数定理（Inverse Function Theorem）)

因此 $D X^{-1}$ 是 $DX$ 的逆矩阵，成立如下关系：

$$
Dh(q)=(DX)^{−1}⋅DY(q)
$$
求行列式得到：
$$
det(Dh(q))=det((DX)^{−1})⋅det(DY(q)) \neq 0
$$
## 图册
一个**图册**是覆盖流形 $M$ 的一组图的集合，是曲面流形在二维局部坐标中的投影。图册提供了一种方式，把抽象的流形（比如球面、环面、任意曲面）**在每个小块上展开成二维坐标系**，从而可以像处理平面上一样处理它。
# 立方体投影
## 立方体投影原理
对于每一张立方体贴图（6 个面），你按下方式进行：
1. 对于每个像素 `(i, j)`，将其坐标归一化到 [-1,1]，得到二维贴图坐标 (u,v)；
2. 根据当前面（如 +X、−Y 等）将$(u, v)$插入为该面的方向向量的一部分（z 固定为 ±1）；
3. 得到三维方向向量 $\vec{d} \in \mathbb{R}^3$，再进行单位化（normalize）；
4. 将该方向向量映射到球面坐标系$(\theta, \phi)$，查询原始球面上的纹理值。


六个立方体面的定义

| 面名  | 方向  | 固定分量     | 方向向量表达 $(x,y,z)$ | Python代码表达   |
| --- | --- | -------- | ---------------- | ------------ |
| px  | +X  | $x = +1$ | $(+1, -v, -u)$   | [1, -v, -u]  |
| nx  | −X  | $x = -1$ | $(-1, -v, +u)$   | [-1, -v, u]  |
| py  | +Y  | $y = +1$ | $(+u, +1, +v)$   | [u, 1, v]    |
| ny  | −Y  | $y = -1$ | $(+u, -1, -v)$   | [u, -1, -v]  |
| pz  | +Z  | $z = +1$ | $(+u, -v, +1)$   | [u, -v, 1]   |
| nz  | −Z  | $z = -1$ | $(-u, -v, -1)$   | [-u, -v, -1] |

## 投影分类
正向射线投影（Forward Ray Projection）：
- 它不是等距投影，也不是保面积投影；
- 它保持角度局部近似不变（近似等角）；
- 是立方体展开图和单位球面之间最自然、对称的投影方式；
- 每个面是一个射线方向段（±X, ±Y, ±Z）的代表。
# 参考资料
1. 曲线和曲面的微分几何, Manfredo Do Carmo
2. https://zhuanlan.zhihu.com/p/559813747